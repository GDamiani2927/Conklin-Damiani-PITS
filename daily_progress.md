**NOTE**: These daily progress logs started on 2/14/24. Prior to this date, all progress has been mostly theoretical. Sketches and planning performed in this interim period (since late November) will be added here eventually. All updates involving a known or new issue posted here will be reflected in issues, and all updates will link to said issue.
# Weekly Progress
## 2/14/2024: 
* **Changed gear ratio from 20:1 to 9:1 to temporarily counterract motor pickup issues**. Interfacing a REV Robotics product with a piCO isn't as easy as expected, something's off with the power scale (power of 1 is nowhere near the max RPM boasted on the REV website). Ticks are now able to be read, with 28 ticks per revolution at the output shaft of the motor, but with a 9:1 gear ratio we can read 252 (28*9) ticks for every revolution. This is ideal because it allows us to know more precisely where the payload is at a given time, allowing us to time a release precisely without having to physically a photointerrupter. 252 may sound high, but this still isn't an optimal resolution, as we have an error of >1 degree. In the future we want to switch to a 20:1 gear ratio on the gearbox to increase this resolution for better consistency of release. [Link to related issue #4](https://github.com/GDamiani2927/Conklin-Damiani-PITS/issues/4)
* **Improved the strength of the electromagnet** used for the release of the payload by utilizing double, triple, and quadruple wraps of copper wire. As it stands, the electromagnet pulls with nearly 3.5 N of force. To test if this is sufficient, further analysis of forces needs to be performed. [Link to related issue #2](https://github.com/GDamiani2927/Conklin-Damiani-PITS/issues/2)
## 2/20/2024: 
* **Dremeled channel through axle to support wiring through gearbox**. The slip ring does not have any sort of through bore, meaning it has to be behind any axle we have, all the way back at the gearbox. To get the wiring through the gearbox, it has to pass through the axle. As a temporary solution before we purchase a through bore axle, a dremeled channel will suffice. [Link to related issue #3](https://github.com/GDamiani2927/Conklin-Damiani-PITS/issues/3)

## 3/4/2024:
* **Increased battery power to speed up motor**. Initially, we had been underdriving the motor at 9V even though the motor takes 12V. The motor's max speed was slower than we expected so we added another 9V battery pack to overdrive the motor and hopefully boost the speed. The motor's speed did increase but it is still unclear if it is at its max speed. 

## 3/13/2024:
* **Fixed encoder rotation counting**. The documentation found online that gave us channel rises per rotation was misleading so the rotations we were calculating were off. The recommendations for this motor that we found online were 14 rises to every axle rotation but by doing some testing we found that the correct ratio was 4 channel rises to each axle rotation. However, once we add the gear ratio back in this will change, but the base ratio is 1/4. We only need to use binary data from Channel A and not Channel B because B is only used to indicate rotation direction. We are now using the correct ratio for channel rises so the calculations for rotations are accurate.

## 3/20/2024:
* **Completed construction of launcher**. Motor has not been added yet, as most of the tests thus far have been for weight and balance. Counterweighting the side with the payload has proven to be difficult and is being added as an issue. [Link to related issue #5](https://github.com/GDamiani2927/Conklin-Damiani-PITS/issues/3)
![Current Launcher](https://github.com/GDamiani2927/Conklin-Damiani-PITS/blob/main/images/Launcher_Assembly.png)
* The slip ring adaptation works perfectly with minimal friction even at high simulated RPMs, no tangling has been noted thus far, will update if an issue arises.
* **Started design of payload.** Cad snapshots pictured below for current progression. Largest hurdle is the way in which to attach the payload to the electromagnet. Current plan is to fasten a cross section of the same ferrous material that makes up the core of the EM, but with a small radius, this will not give us a large margin of error. Unfortunately, access to ferrous material that can be integrated into the payload without significantly impacting its balance is limited. Furthermore, the shape of the payload is not particularly conducive to incorporating any sort of metal plate, rod, or shim. [Link to related issue #6](https://github.com/GDamiani2927/Conklin-Damiani-PITS/issues/6)

## 3/27/2024:
* **Finished payload code**. We finished the payload code so that it will collect and store data while in flight. The altimeter will find the acceleration in the x, y, and z directions and store it in the Pico until it is transferred to a data file when the Pico is reconnected to a computer.
* **Ran code on launcher**. We added the motor to the launcher and ran the code on the launcher for the first time. We were initially concerned that the motor wouldn't have enough torque to move the heavy arm faster but when we ran the code we found that the motor was able to spin the arm fast enough. Increasing the gear ratio allowed the motor to use the weight of the arm and spin with more force. We will have to anchor the launcher very firmly because the arm moves the whole piece with a lot of force.

## 4/12/2024:
* **Finished Electromagnet**. We added the electromagnet onto the launcher and tested that it would hold the payload. We lengthened the electromagnet so that a bit of the danger rod stuck out the end for the payload to attach to. The payload attachs to the electromagnet with a small metal piece that the magnet will hold until it is turned off. We tested the power of the magnet and found that the electromagnet is strong enough to hold the payload while it is spinning, even with gravity pushing down on it. When the magnet is turned off while the arm is spinning, the payload detaches from the electromagnet.

## 4/24/2024:
* **Finished Payload Fabrication**. Fabricated and assembled the "shell of the payload," which is to say the payload without any components inside it. Ran a dry test with the electromagnet which held on securely and was able to disengage as soon as power was cut. Next step is to add the components, but initial attempts reveal an unexpected challenge of securing the nose of the payload (which houses the MPU 6050 Gyroscope) without twisting and thus overstressing the wires. Former design included 3 revolution threading, but twisting the wires that much will likely rip off the solder from the MPU which is not an extremely secure connection. Current ideas are: redesign payload to fit Gyro within the hull, integrate a slip ring into the payload to allow for free rotation, change threading to another locking mechanism (see image below for one possible solution). [Link to related issue #7](https://github.com/GDamiani2927/Conklin-Damiani-PITS/issues/7)
![Mechanism Inspiration](https://github.com/GDamiani2927/Conklin-Damiani-PITS/blob/main/images/locking_mech.png)
![Current Mechanism](https://github.com/GDamiani2927/Conklin-Damiani-PITS/blob/main/images/Payload.png)

## 4/30/2024
* **Redesigned and Refabricataed Payload Hull**. Reprinted the main fuselage of the payload and the nose cone to include holes/flanges for screws as opposed to threading (issues mentioned above). Flanges confirmed to secure hull tightly, effect on aerodynamics should be negligible at these speeds and scale of the payload. See image.
![Flanges](https://github.com/GDamiani2927/Conklin-Damiani-PITS/blob/main/images/Casing.png)
* **Finished Code for Logging Acceleration Values to CSV**. Encountered issues with PiCo connection, have to diagnose and fix at a later date.

## 5/7/2024
* **Replaced PiCO, Ran Payload Code**. Data logged accurately to CSV and sorted into X,Y,Z, acceleration values along with time. Onboard switch and power supply operational, with code and data switch attached when necessary.
* **Redesigned Blade, Assembled**. Previous blade utilizec a stop-gap counterweight fashioned from axles and a large ferrous core that stuck out from the blade. Not only was this not particularly sleek, it was potentially a safety hazard. Replaced with a contained (intentional) counterweight that can be swapped out for ease of balancing. Balancing was planned in CAD and tested in a real environment, COM found to be accurate to the COR (center of rotation) to 4.5 mm, which for our purposes is accurate enough. At higher RPMs, some wobble was noticed, creating an issue for this in the future but for now it isn't a priority concern. See center of mass diagram below.
![Blade COM](https://github.com/GDamiani2927/Conklin-Damiani-PITS/blob/main/images/Blade.png)
  
## 5/15/2024
* **Fixed Encoder Data, Redesigned Wire Access**. Made holes in the rocket so that wires were more accessible and would fit in rocket by adding gaps/slits into body of rocket. Discovered that pico wasn't receiving encoder data -- tried changing wiring, replacing wires, and moving encoder magnet closer to receiver. Fixed bug by changing input pins but not sure why that solved the problem because we had tried that earlier. Tested code on launcher and successfully stopped after a specific number of rotations. Next step is to add rocket to launcher and see if it works as expected.

## 5/22/2024
* **Slip Ring Malfunction**. During deconstruction for motor access, the slip ring wire snapped, setting the project back at least a week. New slip ring (of different dimensions, warranting a redesign) was purchased and should arrive in time for launch #1. In the mean time, all work will have to be done without the launcher operational. Redesign completed, refabrication will likely take a day given current scheduling issues.
* **Electromagnetic Powering.** Experimented with transistors for automatic switching of power supply current to the electromagnet. Landed on power MOSFET IRLB8721 for near instant switching. Not a perfect solution. [Link to related issue #8](https://github.com/GDamiani2927/Conklin-Damiani-PITS/issues/8)
* **Designed and Fabricated Kill Switch.** Safety was a priority when this project was outlined. With this in mind, we added a "remote" shutoff for the motor that instantly kills all power to the launcher when switched except for the electromagnet. This allows us to shut down the launcher without the rocket detaching and potentially hitting somebody. 
